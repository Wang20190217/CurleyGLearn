---
title: 第113章：风控模型架构与落地方案
pay: https://articles.zsxq.com/id_3tw56uw470jg.html
---

# 《Seckill秒杀系统》第113章：风控模型架构与落地方案

作者：冰河
<br/>星球：[http://m6z.cn/6aeFbs](http://m6z.cn/6aeFbs)
<br/>博客：[https://binghe.gitcode.host](https://binghe.gitcode.host)
<br/>文章汇总：[https://binghe.gitcode.host/md/all/all.html](https://binghe.gitcode.host/md/all/all.html)
<br/>源码获取地址：[https://t.zsxq.com/0dhvFs5oR](https://t.zsxq.com/0dhvFs5oR)

> 沉淀，成长，突破，帮助他人，成就自我。

* 本章难度：★★☆☆☆
* 本章重点：介绍风控常见的架构与落地实施方案，从平台、应用和业务三方面介绍风控的架构设计与落地实施方案，了解风控建设的方案后，能够在自身实际项目中有意识的思考风控建设的过程。

**大家好，我是CurleyG~~**

秒杀系统的建设并不是一朝一夕就能够完成的，它需要建立在海量数据之上，并且需要在真实场景下不断验证，调优模型和优化用户画像。尽管风控的建设如此困难和复杂，但是对于风控的建设，我们还是有相应的建设思路和架构方案。

## 一、前言

在前面的文章中，我们简单介绍了黑灰产与风控的基础知识，初步了解到黑灰产对秒杀系统的潜在威胁，并了解到风控建设的前提和困难点，以及风控的总体执行逻辑。基于此，我们就可以从总体上思考风控建设的思路、架构设计和落地方案。

## 二、本章诉求

介绍风控架构与落地实施方案，从建设思路、平台级风控、应用级风控和业务级风控多个角度介绍风控的建设思路、架构设计和落地方案。掌握风控设计的思路、架构设计和落地方案后，举一反三，在自身实际项目中，有意识的思考风控的建设。

## 三、风控建设思路

风控建设的过程，就是不断优化用户画像，在各种场景下不断调优风控模型，风控执行逻辑和流程的过程。对于黑灰产恶意注册、不断刷单和刷流量问题，在风控中首先要解决的问题就是核实用户的身份信息，这里的身份信息除了用户的基本信息外，还包括用户的手机号、收货地址、IP、设备ID等等信息。

例如，不同账号绑定了同一个手机号、填写了相同的收货地址、不同账号的IP地址相同、设备号相同、支付ID相同、历史行为和地理位置相同等等，这些都可以作为风控的基础规则。除了这些基础的规则外，我们还可以延展出其他的特征，例如，不同用户登录的账号IP地址相同、地理位置相同、操作的步骤和流程相同、历史行为相同等等，都可以作为风控的规则。

当然，这里只是以恶意注册和刷单，简单说了风控建设的基本思路，但是风控建设依然是一个庞大、困难和复杂的工程，仍然需要建设在海量数据之上，不断优化用户画像，不断优化风控模型在各种场景下的执行逻辑和执行流程，从而为秒杀系统或其他业务提供防护能力。

## 四、平台级风控

平台级别的风控对业务的防护是最直接，也是最有效的一种防护手段。目前，一般大型互联网公司都会建设自己的风控系统，不少云服务厂商也会提供风控安全服务。平台级风控一般位于用户与应用服务之间，总体架构如图113-1所示。

<div align="center">
    <img src="https://binghe.gitcode.host/images/project/seckill/seckill-2023-09-23-001.png?raw=true" width="70%">
    <br/>
</div>

可以看到，平台级风控安全防护位于客户端与应用之间，会对进入系统的流量进行拦截和清洗，过滤掉其中的攻击流量、刷单流量、爬虫和其他恶意流量。流量进入平台级风控后，会根据配置选择对应的风控策略，执行相应的风控逻辑，例如限流、防恶意刷单刷流量等，执行完对应的风控策略后，会根据配置选择对应的结果处理方式，例如通过请求、拒绝请求、需要安全校验等等，涉及到安全校验时，可能需要手机号验证，人机验证码等等。

经过平台级风控的防护后，再进入应用级风控，此时的流量相比于一开始进入平台级风控的流量更加有效，但是此时的流量并不是完全有效的，其中会掺杂少部分刷单流量和其他恶意流量等。可以在应用级风控防护中，进一步做流量的清洗和防护。

## 五、应用级风控

## 查看完整文章

加入[冰河技术](http://m6z.cn/6aeFbs)知识星球，解锁完整技术文章与完整代码
